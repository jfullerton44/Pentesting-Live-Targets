# Project 8 - Pentesting Live Targets

Jacob Fullerton

Time spent: **4** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration
* Insecure Direct Object Reference (IDOR)
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: Session Hijacking
    To set this up I changed my sessionid to "loggedinuser" and logged into the blue website and then changed the session ID back to normal. With the normal session ID back I was logged out of the application. However, when I used the tool to change my session ID back to "loggedinuser" and refreshed the page I was logged in to the site again. This could be used by anyone who steals the sessionid of a user who is currently logged in.
![Session Hijacking](./gifs/SessionHijacking.gif)

Vulnerability #2: SQLi
    On the blue page it appears that the values used for the IDs of the salesmen are not being sanatized. To show this I inserted the statement ' OR SLEEP(3)=1--'. If an SQL injection is possible the page will sleep when the URL is submitted. In the gif you can see that after the URL is submitted the page becomes unresponsive as it is executing the sleep statement, therefore the page is vunerable to SQL injection.
![SQLi](./gifs/SQLi.gif)

## Green

Vulnerability #1: XSS
     I found this vunerability by posting a XSS attack form in the contact form of each page and for the green page an XSS attack occured when the admin logged in and viewed the feedback page.
![XSS](./gifs/XSS.gif)

Vulnerability #2: Username Enumeration
    This vunerability was found because when the user entered a username that was not registed the "log in was unsuccessful" text was normal, but if the username was resgistered the text would be in bold. 
![Username Enumeration](./gifs/UsernameEnumeration.gif)


## Red

Vulnerability #1: Insecure Direct Object Refrence (IDOR)
    Upon visiting the page for a specific salesperson you can see in the URL bar the parameter for "id". By changing this value you can visit any of the other salesperson's pages. In this case, I was able to find the page of a salesperson that was not yet public or linked on the main page. On the other websites it seems that when a id is given that is not assoiated with a public salesperson the user will be directed back to the main page of salesmen.
![IDOR](./gifs/IDOR.gif)

Vulnerability #2: Cross Site Request Forgery (CSRF)
    In order to run this exploit I created a page that when loaded it would change the name of the salesman with id = 1 to Jake.  I then sent a feedback with the link to the file in it hoping that the admin would click on the link (Since this is only a proof on concept I just linked the file locally, in a real attack I would upload the html file somewhere so that it could be remotely hosted). Then to show how the attack would work I logged in as an admin and visited the page linked in the feedback form. This then changed the name of the salesmen to Jake as shown in the end of the gif.
![CSRF](./gifs/CSRF.gif)

## Notes

Challenges: When trying to get the SQL injection to work I had problems trying to get other data to show up. I then tried to use an SQL statement with an alert but that didn't work either. I then googled other way to test if something is vunerable to SQL injections and I found that using a sleep statement could also work. In the end this worked as I was able to get the page to sleep using the URL input.
